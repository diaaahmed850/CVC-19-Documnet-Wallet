{"version":3,"sources":["webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.page.html","webpack:///./src/app/pages/login/login.page.scss","webpack:///./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n  <form #signform=\\\"ngForm\\\" (ngSubmit)=\\\"login(signform)\\\" method=\\\"post\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\n      <ion-input ngModel type=\\\"email\\\" name=\\\"email\\\" required></ion-input>\\n    </ion-item>\\n  \\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\n      <ion-input ngModel type=\\\"password\\\" name=\\\"password\\\" required></ion-input>\\n    </ion-item>\\n  \\n     \\n  \\n    <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"!signform.form.valid\\\">Login</ion-button>\\n    <br>\\n    <p text-center>Or ?</p>\\n\\n    <ion-grid>\\n      <ion-row>\\n       \\n        <ion-col col-3>\\n\\n        </ion-col>\\n        <ion-col col-3> \\n         \\n          <ion-item lines=\\\"none\\\" (click)=\\\"doGoogleLogin()\\\">\\n            <ion-icon name=\\\"logo-google\\\" color=\\\"danger\\\" style=\\\"font-size: 40px;\\\"></ion-icon>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col col-3>\\n          <ion-item lines=\\\"none\\\" (click)=\\\"doFbLogin()\\\">\\n            <ion-icon name=\\\"logo-facebook\\\" color=\\\"primary\\\" style=\\\"font-size: 40px;\\\" ></ion-icon>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col col-3>\\n          \\n\\n        </ion-col>\\n      </ion-row>\\n       \\n        </ion-grid>\\n   \\n\\n  </form>\\n  <p text-center>Don't have a account?</p>\\n  <ion-button expand=\\\"full\\\" color=\\\"danger\\\" routerLink=\\\"/register\\\" routerDirection=\\\"forward\\\" >Register</ion-button>\\n \\n</ion-content>\\n<!--\\n   <ion-button expand=\\\"full\\\" color=\\\"danger\\\" (click)=\\\"doFbLogin()\\\" >Facebook</ion-button>\\n  <ion-button expand=\\\"full\\\" color=\\\"danger\\\" (click)=\\\"doGoogleLogin()\\\" >Google</ion-button>\\n-->\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\"","import { AuthenticationService } from './../../services/authentication.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Facebook } from '@ionic-native/facebook/ngx';\nimport { LoadingController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n \n  constructor(private authService: AuthenticationService,private fb: Facebook,private googlePlus:GooglePlus,public loadingController: LoadingController,private storage:Storage) { }\n \n  ngOnInit() {\n  }\n \n  login(form) {\n    console.log(form.form.value)\n    this.authService.storeEmail(form.form.value['email'])\n    this.authService.login(form.form.value);\n  }\n  async doFbLogin(){\n\t\tconst loading = await this.loadingController.create({\n\t\t\tmessage: 'Please wait...'\n\t\t});\n\t\tthis.presentLoading(loading);\n\t\tlet permissions = new Array<string>();\n\n\t\t//the permissions your facebook app needs from the user\n     permissions = [\"public_profile\", \"email\"];\n\n\t\tthis.fb.login(permissions)\n\t\t.then(response =>{\n\t\t\tlet userId = response.authResponse.userID;\n\n\t\t\t//Getting name and gender properties\n\t\t\tthis.fb.api(\"/me?fields=name,email\", permissions)\n\t\t\t.then(user =>{\n        console.log(user)\n\t\t\t\tuser.picture = \"https://graph.facebook.com/\" + userId + \"/picture?type=large\";\n        //now we have the users info, let's save it in the NativeStorage\n        console.log(user.email)\n        this.authService.socialLogin({\n          \"provider\":\"facebook\",\n          \"email\":user.email,\n          \"socialID\":userId\n        })\n\t\t\t\tthis.storage.set('user',\n\t\t\t\t{\n          provider:\"facebook\",\n          name: user.name,\n          \n\t\t\t\t\temail: user.email,\n\t\t\t\t\tpicture: user.picture\n\t\t\t\t})\n\t\t\t\t.then(() =>{\n\t\t\t\t\t \n\t\t\t\t\tloading.dismiss();\n\t\t\t\t}, error =>{\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tloading.dismiss();\n\t\t\t\t})\n\t\t\t})\n\t\t}, error =>{\n\t\t\tconsole.log(error);\n\t\t\tloading.dismiss();\n\t\t});\n  }\n  async doGoogleLogin(){\n    const loading = await this.loadingController.create({\n      message: 'Please wait...'\n    });\n    this.presentLoading(loading);\n    this.googlePlus.login({}).then((user) => {\n      \n      console.log(user);\n      loading.dismiss();\n      this.authService.socialLogin({\n        \"provider\":\"google\",\n        \"email\":user.email,\n        \"socialID\":user.userId\n      })\n      this.storage.set('user', {\n        provider:\"google\",\n        name: user.displayName,\n        email: user.email,\n        picture: user.imageUrl\n      })\n      .then(() =>{\n         \n      }, error =>{\n        console.log(error);\n      })\n    }).catch((err) => {\n      \n      console.log(err);\n      loading.dismiss();\n    });\n     \n  \n  }\n\tasync presentLoading(loading) {\n\t\treturn await loading.present();\n\t}\n\n \n}"],"sourceRoot":""}