{"version":3,"sources":["webpack:///./src/app/pages/document/document.module.ts","webpack:///./src/app/pages/document/document.page.html","webpack:///./src/app/pages/document/document.page.scss","webpack:///./src/app/pages/document/document.page.ts"],"names":[],"mappings":"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","file":"document-document-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DocumentPage } from './document.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocumentPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DocumentPage]\n})\nexport class DocumentPageModule {}\n","module.exports = \"<ion-header *ngIf=\\\"document\\\">\\n    <ion-toolbar>\\n        <ion-title>{{document.title}}</ion-title>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n    </ion-toolbar>\\n  </ion-header>\\n<ion-content padding *ngIf=\\\"document\\\">\\n    <ion-list>\\n        <ion-list-header>\\n            <ion-label>Results</ion-label>\\n          </ion-list-header>\\n        </ion-list>\\n          <form #dataform=\\\"ngForm\\\" (ngSubmit)=\\\"saveData(dataform)\\\" >\\n          <ion-item *ngFor=\\\"let k of keys\\\">\\n              <ion-label>{{k}}</ion-label>\\n              <ion-input type='text' [(ngModel)]=\\\"document.data[k]\\\" [readonly]=\\\"readOnly\\\" required name=\\\"{{k}}\\\"></ion-input>\\n            </ion-item>\\n            <ion-grid>\\n              <ion-row *ngIf=\\\"readOnly\\\">\\n               \\n                <ion-col col-4>\\n                    <ion-button (click)=\\\"edit()\\\"  color=\\\"primary\\\" >edit</ion-button>\\n                </ion-col>\\n                <ion-col col-4> </ion-col>\\n                <ion-col col-4>\\n                    <ion-button (click)=\\\"delete()\\\" color=\\\"danger\\\"  >delete</ion-button>  \\n                </ion-col>\\n              </ion-row>\\n              <ion-row center *ngIf=\\\"!readOnly\\\">  \\n                <ion-col text-center>   \\n                  <br>  \\n                 <ion-button type=\\\"submit\\\" block [disabled]=\\\"!dataform.form.valid\\\" > Save</ion-button> \\n                </ion-col> \\n               </ion-row>\\n                </ion-grid>\\n          </form>\\n         \\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RvY3VtZW50L2RvY3VtZW50LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport {ScanServicesService} from '../../services/scan-services.service'\nimport { Storage } from '@ionic/storage';\nimport {   HttpHeaders } from '@angular/common/http'\nimport {Router,ActivatedRoute} from '@angular/router';\nimport { KeyRegistry } from '@angular/core/src/di/reflective_key';\nimport { NavController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\nimport { AlertController } from '@ionic/angular';\n@Component({\n  selector: 'app-document',\n  templateUrl: './document.page.html',\n  styleUrls: ['./document.page.scss'],\n})\nexport class DocumentPage implements OnInit {\n   \n  constructor(private storage:Storage,private service:ScanServicesService,private router: Router,private route: ActivatedRoute,public navCtrl: NavController,public toastController: ToastController,public alertController: AlertController) { }\ndocument:any;\nid:any\nkeys=[]\nvalues=[]\nreadOnly=true\n  ngOnInit() {\n    /*this.readOnly=true\n    this.keys=[]\n    this.route.params.subscribe( params =>{\n      console.log(params['id'])\n      this.id=params['id']\n      this.storage.get('auth-token').then(res => {\n        if (res) {\n          const headers = new HttpHeaders().set('Authorization', 'Bearer '+res)\n          this.service.getDocument(headers,this.id).subscribe(res=>{\n            console.log(res)\n            this.document=res\n            for (var key in this.document.data) {\n              if (this.document.data.hasOwnProperty(key)) {\n                  console.log(key + \" -> \" + this.document.data[key]);\n                  this.keys.push(key)\n                  this.values.push(this.document.data[key])\n              }\n          }\n          },err=>{\n            console.log(err)\n          })\n        }\n      })\n\n  })*/\n    \n    \n  }\n\n  isReadonly(){\n    if(this.readOnly){\n      return true\n    }\n    else{\n      return false\n    }\n\n  }\n  edit(){\n    this.readOnly=false\n  }\n  delete(){\n    this.presentAlertConfirm()\n     \n  }\n  ionViewWillEnter(){\n    console.log(\"entered\")\n     \n    this.readOnly=true\n    this.keys=[]\n    this.route.params.subscribe( params =>{\n      console.log(params['id'])\n      this.id=params['id']\n      this.storage.get('auth-token').then(res => {\n        if (res) {\n          const headers = new HttpHeaders().set('Authorization', 'Bearer '+res)\n          this.service.getDocument(headers,this.id).subscribe(res=>{\n            console.log(res)\n            this.document=res\n            for (var key in this.document.data) {\n              if (this.document.data.hasOwnProperty(key)) {\n                  console.log(key + \" -> \" + this.document.data[key]);\n                  this.keys.push(key)\n                  this.values.push(this.document.data[key])\n              }\n          }\n          },err=>{\n            console.log(err)\n          })\n        }\n      })\n\n  })\n  }\n  saveData(form){\n    console.log(form.form.value)\n    let form_data=form.form.value\n     \n    let body={\n      \"title\":this.document['title'],\n      \"docType\":this.document['docType'],\n      \"data\":form_data\n    }\n    console.log(body)\n    this.storage.get('auth-token').then(res => {\n      if (res) {\n        const headers = new HttpHeaders().set('Authorization', 'Bearer '+res)\n        this.service.editDocument(headers,body,this.id).subscribe(res=>{\n          console.log(res)\n          this.readOnly=true\n          this.presentToast('The Document is edited Successfully!')\n           this.router.navigate(['/menu/document/'+this.id])\n            \n           //this.navCtrl.navigateRoot('/document/'+this.id)\n        },err=>{\n          console.log(err)\n        })\n      }\n    })\n    \n    \n\n  }\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      color:'dark',\n      duration: 4000\n    });\n    toast.present();\n  }\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      header: 'Alert',\n      message: '<strong>Are you sure you want to delete this Document</strong>?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Confirm',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.storage.get('auth-token').then(res => {\n              if (res) {\n                const headers = new HttpHeaders().set('Authorization', 'Bearer '+res)\n                this.service.deleteDocument(headers,this.id).subscribe(res=>{\n                  console.log(res)\n                  this.presentToast('The Document is deleted Successfully!')\n                   this.router.navigate(['/menu/main'])\n                },err=>{\n                  console.log(err)\n                })\n              }\n            })\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  }\n\n\n"],"sourceRoot":""}